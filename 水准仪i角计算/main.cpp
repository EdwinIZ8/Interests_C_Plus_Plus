/*
 * åŸç†ï¼š
        1.é‡‡ç”¨AI1BI2æ³•ï¼ˆç¬¬ä¸€æ¬¡æµ‹ç«™I1åœ¨å‰åå°ºä¹‹é—´ï¼›ç¬¬äºŒæ¬¡æµ‹ç«™I2åœ¨æ°´å‡†å°ºä¸€ä¾§ï¼ŒAæ˜¯è¿œå°ºï¼ŒBæ˜¯è¿‘å°ºã€‚ï¼‰
        2.æ¯æµ‹ç«™é‡å¤è§‚æµ‹å‰åå°ºå„4æ¬¡

    è§£ï¼š
        è®¾åœ¨æµ‹ç«™I1ä¸Šï¼ŒAå°ºè¯»æ•°æ˜¯a1ï¼ŒBå°ºè¯»æ•°æ˜¯b1ï¼›åœ¨æµ‹ç«™I2ä¸Šï¼ŒAå°ºè¯»æ•°æ˜¯a2ï¼ŒBå°ºè¯»æ•°æ˜¯b2ï¼›è¿‘æ ‡å°ºè·ç¦»æ˜¯D1ï¼Œè¿œæ ‡å°ºè·ç¦»æ˜¯D2ã€‚
        ğ›¥ = (a2-b2)-(a1-b1)
        Ï = 206265ï¼ˆâ€³ï¼‰
        i = ğ›¥ * Ï / (D2 - D1) - 1.61 * 10^-5 * (D1 + D2)

    å¤‡æ³¨ï¼š
        è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œé•¿åº¦å•ä½ç»Ÿä¸€æ¢ç®—æˆæ¯«ç±³ã€‚
 */
#include <iostream>
#include "vector"
#include "cmath"
using namespace std;

vector<double> a1(4), b1(4), a2(4), b2(4);
double delta, i, D1, D2, a1_average, b1_average, a2_average, b2_average;
const double rho = 206265;

// è¾“å…¥è§‚æµ‹æ•°æ®
void input() {
    // è¾“å…¥a1çš„4æ¬¡è§‚æµ‹å€¼ï¼Œå•ä½ï¼šç±³
    cout << endl << "è¾“å…¥a1çš„4æ¬¡è§‚æµ‹å€¼ï¼ˆmï¼Œå›è½¦åˆ†éš”ï¼‰:" << endl;
    cin >> a1[0];
    cin >> a1[1];
    cin >> a1[2];
    cin >> a1[3];
    // è¾“å…¥b1çš„4æ¬¡è§‚æµ‹å€¼ï¼Œå•ä½ï¼šç±³
    cout << endl << "è¾“å…¥b1çš„4æ¬¡è§‚æµ‹å€¼ï¼ˆmï¼Œå›è½¦åˆ†éš”ï¼‰:" << endl;
    cin >> b1[0];
    cin >> b1[1];
    cin >> b1[2];
    cin >> b1[3];
    // è¾“å…¥a2çš„4æ¬¡è§‚æµ‹å€¼ï¼Œå•ä½ï¼šç±³
    cout << endl << "è¾“å…¥a2çš„4æ¬¡è§‚æµ‹å€¼ï¼ˆmï¼Œå›è½¦åˆ†éš”ï¼‰:" << endl;
    cin >> a2[0];
    cin >> a2[1];
    cin >> a2[2];
    cin >> a2[3];
    // è¾“å…¥a1çš„4æ¬¡è§‚æµ‹å€¼ï¼Œå•ä½ï¼šç±³
    cout << endl << "è¾“å…¥b2çš„4æ¬¡è§‚æµ‹å€¼ï¼ˆmï¼Œå›è½¦åˆ†éš”ï¼‰:" << endl;
    cin >> b2[0];
    cin >> b2[1];
    cin >> b2[2];
    cin >> b2[3];
    // è¾“å…¥è¿‘å°ºè·ç¦»D1ï¼Œå•ä½ï¼šç±³
    cout << endl << "è¾“å…¥è¿‘å°ºè·ç¦»D1ï¼ˆå•ä½ï¼šç±³ï¼›èŒƒå›´ï¼š5ï½7ç±³ï¼‰:" << endl;
    cin >> D1;
    if (D1 < 5 || D1 > 7) {
        cout << "è¿‘å°ºè·ç¦»ä¸åœ¨5ï½7ç±³èŒƒå›´å†…ã€‚" << endl;
        exit(EXIT_FAILURE);
    }
    // è¾“å…¥è¿œå°ºè·ç¦»D2ï¼Œå•ä½ï¼šç±³
    cout << endl << "è¾“å…¥è¿œå°ºè·ç¦»D2ï¼ˆå•ä½ï¼šç±³ï¼›èŒƒå›´40ï½50ç±³ï¼‰:" << endl;
    cin >> D2;
    if (D2 < 40 || D2 > 50) {
        cout << "è¿œå°ºè·ç¦»ä¸åœ¨40ï½50ç±³èŒƒå›´å†…ã€‚" << endl;
        exit(EXIT_FAILURE);
    }
}

// è®¡ç®—iè§’å¤§å°ï¼ˆå•ä½ï¼šç§’ï¼‰
double calculate() {
    a1_average = (a1[0] + a1[1] + a1[2] + a1[3]) / 4; // å•ä½ï¼šç±³
    b1_average = (b1[0] + b1[1] + b1[2] + b1[3]) / 4; // å•ä½ï¼šç±³
    a2_average = (a2[0] + a2[1] + a2[2] + a2[3]) / 4; // å•ä½ï¼šç±³
    b2_average = (b2[0] + b2[1] + b2[2] + b2[3]) / 4; // å•ä½ï¼šç±³
    delta = ((a2_average - b2_average) - (a1_average - b1_average)) * 1000; // å•ä½ï¼šæ¯«ç±³
    i = delta / 1000 * rho / (D2 - D1) - 1.61 * pow(10.0, -5.0) * (D1 + D2) * 1000; // å•ä½ï¼šç§’
    return i;
}

// æ˜¾ç¤ºè®¡ç®—è¿‡ç¨‹å’Œç»“æœï¼Œå››èˆäº”å…¥ä¿ç•™ä¸¤ä½å°æ•°
void show() {
    cout << endl << "è®¡ç®—ç»“æœï¼š" << endl;
    cout << "  a1å¹³å‡å€¼æ˜¯ï¼ˆmï¼‰ï¼š\t" << a1_average << endl;
    cout << "  b1å¹³å‡å€¼æ˜¯ï¼ˆmï¼‰ï¼š\t" << b1_average << endl;
    cout << "  a2å¹³å‡å€¼æ˜¯ï¼ˆmï¼‰ï¼š\t" << a2_average << endl;
    cout << "  b2å¹³å‡å€¼æ˜¯ï¼ˆmï¼‰ï¼š\t" << b2_average << endl;
    cout << "  ä»¥ä¸‹æ˜¯å››èˆäº”å…¥çš„ç»“æœï¼Œä¿ç•™ä¸¤ä½å°æ•°ã€‚" << endl;
    double delta_a1_b1 = (a1_average - b1_average) * 1000;
    cout << "  é«˜å·®(a1 - b1)æ˜¯ï¼ˆmmï¼‰ï¼š\t" << round(delta_a1_b1 * 100) / 100 << endl;
    double delta_a2_b2 = (a2_average - b2_average) * 1000;
    cout << "  é«˜å·®(a2 - b2)æ˜¯ï¼ˆmmï¼‰ï¼š\t" << round(delta_a2_b2 * 100) / 100 << endl;
    cout << "  deltaç­‰äºï¼ˆmmï¼‰ï¼š\t" << round(delta * 100) / 100 << endl;
    cout << "  iè§’ç­‰äºï¼ˆâ€³ï¼‰ï¼š\t" << round(i * 100) / 100 << endl;
}

int main() {
    cout << "åŠŸèƒ½ï¼šç”¨AI1BI2æ³•ï¼Œè®¡ç®—æ°´å‡†ä»ªiè§’ï¼›\n"
         << "ä½œè€…ï¼šå¼ å®¶é¦¨ã€‚\n"
         << "è¯´æ˜ï¼š\n"
         << "\tAæ˜¯è¿œå°ºï¼ŒBæ˜¯è¿‘å°ºã€‚\n\tå…ˆæŠŠæ°´å‡†ä»ªæ¶è®¾åœ¨ä¸¤å°ºä¸­é—´ï¼Œå¯¹Aå°ºè¯»4æ¬¡æ•°ï¼Œå†å¯¹Bå°ºè¯»4æ¬¡æ•°ï¼›å†æŠŠæ°´å‡†ä»ªæ¶è®¾åœ¨Bå°ºä¸€ä¾§ï¼Œå¯¹Aå°ºè¯»4æ¬¡æ•°ï¼Œå¯¹Bå°ºè¯»4æ¬¡æ•°ã€‚"
         << endl;
    // è¾“å…¥è§‚æµ‹æ•°æ®
    input();
    // è®¡ç®—æ°´å‡†ä»ªiè§’
    calculate();
    // æ˜¾ç¤ºè®¡ç®—è¿‡ç¨‹å’Œç»“æœ
    show();
    return 0;
}
